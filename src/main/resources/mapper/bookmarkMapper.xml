<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.users.post.mapper.BookmarkMapper">

   

    <insert id="insertScrap" parameterType="com.green.users.post.domain.UserBookVo">
		INSERT INTO USERBOOK (
		  UB_NUM,
		  USER_ID,
		  PO_NUM,
		  UB_BOOLEAN
		)
		VALUES (
		  (SELECT NVL(MAX(UB_NUM),0) + 1 FROM USERBOOK),
		  #{ user_id },
		  #{ po_num },
		  CASE WHEN #{ub_boolean} THEN 1 ELSE 0 END
		)
	</insert>
    
    <delete id="deleteBookmark">
        DELETE
          FROM USERBOOK
        WHERE
          UB_NUM = #{ ub_num }
    </delete>
    
    <select id="findBookmarkByRecruitmentIdAndUserId" parameterType="map" resultType="com.green.users.post.domain.UserBookVo">
        SELECT *
        FROM USERBOOK
        WHERE
          PO_NUM = #{ po_num }
        AND
          USER_ID = #{ user_id }
    </select>
</mapper>