<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.green.users.post.mapper.PostMapper">

<resultMap id="postViewResultMap" type="java.util.HashMap">
    <id property="po_num" column="PO_NUM"/>
    <result property="com_id" column="COM_ID"/>
    <result property="po_title" column="PO_TITLE"/>
    <result property="skill" column="SKILL"/>
    <result property="career" column="CAREER"/>
    <result property="region" column="REGION"/>
    <result property="po_qual" column="PO_QUAL"/>
    <result property="po_content" column="PO_CONTENT"/>
    <result property="po_image" column="PO_IMAGE"/>
    <result property="ub_boolean" column="UB_BOOLEAN"/>
</resultMap>

  <select id="getPostList">
    SELECT  
      PO_NUM,
      COM_ID,
      PO_TITLE,
      SKILL,
      CAREER,
      REGION,
      PO_QUAL,
      PO_CONTENT,
      PO_IMAGE
    FROM  
      POST
  </select>
  
  <select id="getView">
  
    SELECT
      PO_NUM,
	  COM_ID,
	  PO_TITLE,
	  SKILL,
	  CAREER,
	  REGION,
	  PO_QUAL,
	  PO_CONTENT,
	  PO_IMAGE
    FROM POST
    WHERE
      PO_NUM = #{ po_num } 
  
  </select>
  
  <!-- 
  <select id="getView" resultType="com.green.users.post.domain.UserBookVo">
  
  SELECT
  P.PO_NUM,
  P.COM_ID,
  P.PO_TITLE,
  P.SKILL,
  P.CAREER,
  P.REGION,
  P.PO_QUAL,
  P.PO_CONTENT,
  P.PO_IMAGE,
  (
    SELECT COUNT(UB.UB_NUM)
    FROM USERBOOK UB
    WHERE P.PO_NUM = UB.PO_NUM
    
  ) AS UB_BOOLEAN
FROM
  POST P
WHERE P.PO_NUM = #{ po_num }
  
  </select>
   -->
  
  <select id="getResumePostList" resultType="com.green.users.post.domain.PostVo">
  
    SELECT
      PO_NUM,
	  COM_ID,
	  PO_TITLE,
	  SKILL,
	  CAREER,
	  REGION,
	  PO_QUAL,
	  PO_CONTENT,
	  PO_IMAGE
	FROM
	  POST
	WHERE
	  COM_ID = #{ com_id }
  	ORDER BY PO_NUM ASC
  
  </select>

</mapper>












